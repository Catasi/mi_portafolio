---
import i18next, {t} from 'i18next';
import { LanguageSelector } from 'astro-i18next/components'

const lang = i18next.language
const base = i18next.language === 'en' ? '' :  `/${lang}`
---
<header>
    <a href={`${base}/`} class="logo">
        <img src="/img/perfil.jpeg" alt="Gato_negro" class="img-fluid">
    </a>
    <div class="right-side">
      <nav class="nav-links">
        <a href={`${base}/`}>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
          </svg>         
          <span>{t("header.nav1")}</span>
        </a>
        <a href={`${base}/conocimientos`}>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z" />
          </svg>          
          <span>{t("header.nav2")}</span>
        </a>
        <a href={`${base}/herramientas`}>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z" />
          </svg>          
          <span>{t("header.nav3")}</span>
        </a>
        <a href={`${base}/formacion`}>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5" />
          </svg>          
          <span>{t("header.nav4")}</span>
        </a>
      </nav>
      <div class='button-language'>
        {
            i18next.language === 'en' ? (
              <img
                src='/img/flag-us.svg'
                alt='us flag'
              />
            ) : i18next.language === 'es' ? (
              <img
                src='/img/flag-mexico.svg'
                alt='es flag'
              />
            ) : i18next.language === 'fr' ? (
              <img
                src='/img/flag-france.svg'
                alt='fr flag'
              />
            ) : null
        }
        <LanguageSelector
          showFlag={true}
          aria-label='Select language'
          class='languaje-selector'
        />
      </div>
    </div>
</header>

<style>
:root {
  --font-mono: "IBM Plex Mono", ui-monospace, monospace;
}

header{
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  background-color: #2e2b2b;
  color: #fff;
  font-family: var(--font-mono);
  border-radius: 10px;
}

svg {
  width: 35px;
  height: 35px;
}

.right-side {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  height: auto;
}

.logo img {
  width: 80px;
  height: 80px;
  object-fit: cover;
  border-radius: 50%;
  padding-left: 10px;
  transition: transform 0.3s ease;
}

.logo:hover img {
  transform: scale(1.2);
  filter: brightness(1.0);
}

nav {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
}
nav a {
  color: #fff;
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

nav a:hover {
  color: #D95E1C;
}

.button-language {
    display: flex;
    align-items: center;
  }

.button-language img {
  height: 2rem;
  width: 2rem;
  border-radius: 9999px;
  margin-right: 0.5rem;
}

.languaje-selector {
    display: block;
    width: 7rem;
    padding: 0.625rem;
    border-radius: 0.5rem;
    background-color:  #2e2b2b;
    border-color: white;
    color: white;
  }


@media (max-width: 768px) {
    .nav-links{
        transition: all 0.3s ease;
    }
    
}

@media (min-width: 932px) {
    svg {
      display: none;
    }
}

@media (max-width: 931px) {
    header {
      gap: 20px;
    }

    span {
      display: none;
    }
    
    .right-side {
        flex-wrap: nowrap;
    }
}

@media (max-width: 426px) {
    .right-side {
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        text-align: center;
    }

    svg {
      width: 30px;
      height: 30px;
    }
}

@media (max-width: 320px) {
  nav {
    gap: 0.5rem;
  }
}
</style>